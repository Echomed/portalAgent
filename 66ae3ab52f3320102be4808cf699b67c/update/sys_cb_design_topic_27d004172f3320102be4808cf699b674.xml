<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic">
    <sys_cb_design_topic action="INSERT_OR_UPDATE">
        <compiled_topic display_value="Trouver les noms des binômes">e7d004172f3320102be4808cf699b66e</compiled_topic>
        <design_definition>{"type":"FlowTopic","triggers":[{"type":"Trigger","name":"62306c62d702464d893ef45bc922c870","triggerType":"request","applicability":{"type":"Applicability","mode":"script","value":"true"},"id":"62306c62d702464d893ef45bc922c870"}],"goals":[{"name":"primary","trigger_id":"62306c62d702464d893ef45bc922c870","nodes":[{"type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","mode":"string","value":"gs.getMessageLang(\"Bonjour.\", vaContext.getRequesterLang())"},"id":"d71256994e24413187b94e3c74d3a86f","name":"Start"},{"type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","mode":"string","value":""},"id":"e28f028b3e834237b9f609b2b45b4d0a","name":"End"},{"type":"OutputPrompt","value":{"type":"String","mode":"script","value":"(function execute() {\n    /* Return a quoted string.  For example:\n\n       if (vaInputs.first_name == 'Bill') {\n           return gs.getMessage('hi there {0}', [vaInputs.first_name]);\n       } else {\n           return gs.getMessage('how are you {0}', [vaInputs.last_name]);\n       }\n    */\n   return 'You selected: ' + vaInputs.pair_group.getDisplayValue();\n})()\n"},"id":"306b270cbcd04861a23029b402c09482","name":"Confirm Pair","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"ReferenceChoiceInputPrompt","mode":"external","id":"ac48bb49bb2a4259b43c4bf4f70efb94","name":"Pair group","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"variable_id":"07dc2487f27c43b8a92d0d875df91f74","message":{"type":"String","mode":"string","value":"Quel binôme souhaitez vous connaitre?"},"skippable":{"type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"expression_mode":"script","script":"(function execute(table) {\n\t\n\t    // Initialize an array for the list of NeedIt records to show\n\t    var options = [];\n\t    var queryString = \"Binôme\"\n\t    // Query the table selected in the Table field for active records with the \n\t    // u_request_type selected in the NeedIt Type node where the user is the \n\t    // u_requested_for. Order the results by the When needed value.\n\t    var grBinomes = new GlideRecord(table);\n\t    grBinomes.addQuery('name','CONTAINS',queryString);\n\t\tgrBinomes.orderBy('name');\n\t    grBinomes.query();\n\t\n\t    // Push a value and label pair to the array for each record the query returns.\n\t    // The value is the unique value. The label is the number, u_when_needed, and \t\t    // short_description values for the NeedIt record.\n\t    while(grBinomes.next()) {\n\t        options.push({ 'value': grBinomes.getUniqueValue(), 'label': grBinomes.getValue('name') });\n\t    }\n\t\n\t    // Return the array\n\t    return options;\n\t\n\t})(table)","no_options_found_message":{"type":"String","mode":"string","value":"Ce binôme n'existe pas"},"condition":{"type":"Condition","mode":"glide_scripted_query","value":"(function execute(table) {\n\t\n\t    // Initialize an array for the list of NeedIt records to show\n\t    var options = [];\n\t    var queryString = \"Binôme\"\n\t    // Query the table selected in the Table field for active records with the \n\t    // u_request_type selected in the NeedIt Type node where the user is the \n\t    // u_requested_for. Order the results by the When needed value.\n\t    var grBinomes = new GlideRecord(table);\n\t    grBinomes.addQuery('name','CONTAINS',queryString);\n\t\tgrBinomes.orderBy('name');\n\t    grBinomes.query();\n\t\n\t    // Push a value and label pair to the array for each record the query returns.\n\t    // The value is the unique value. The label is the number, u_when_needed, and \t\t    // short_description values for the NeedIt record.\n\t    while(grBinomes.next()) {\n\t        options.push({ 'value': grBinomes.getUniqueValue(), 'label': grBinomes.getValue('name') });\n\t    }\n\t\n\t    // Return the array\n\t    return options;\n\t\n\t})(table)"}},{"type":"RecordOutputPrompt","mode":"variable","table":"sys_user_group","variable_id":"07dc2487f27c43b8a92d0d875df91f74","fields":["name","parent","manager","description"],"id":"1af3ebfec0ad42b38417701ed6c5f0b0","name":"Pair Card","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"condition":{"type":"Condition","mode":"","value":""}},{"type":"OutputPrompt","value":{"type":"String","mode":"script","value":"(function execute() {\n  \n      var answer = [];\n      answer.push(\"Les membres de ce binôme sont : \")\n        var mem = new GlideRecord('sys_user_grmember');\n        \n        mem.addQuery('group.name', vaInputs.pair_group.getDisplayValue());\n        mem.query();\n        while (mem.next()) {\n                  answer.push(mem.getDisplayValue('user'));\n        }\n        return answer;\n})()\n"},"id":"bca0c66c48b44d81b9601808f5631074","name":"Pair Names","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"InputPrompt","variable_id":"f36b25db454940af9dcd30855792a991","message":{"type":"String","mode":"string","value":"gs.getMessageLang(\"Voulez trouver un autre binôme?\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","mode":"script","value":"false"},"id":"cd9e307dc82a4508ad708c0dd87a4342","name":"Search Again","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"Decision","name":"Trouver autre binôme?","branches":[{"type":"Branch","label":"No","expression":{"type":"Applicability","mode":"query","value":"search_again="},"id":"1264344ce49a43f8beca0a764aab6df7","name":"No"},{"type":"Branch","label":"Oui","expression":{"type":"Applicability","mode":"query","value":"search_again=true"},"id":"4b56a886156541c1ace923ca47ab3058","name":"Oui"}],"id":"9ecd494b81114f06a803736fd0c6dd89","goal_id":"primary"}],"edges":[{"type":"Edge","source_node_id":"d71256994e24413187b94e3c74d3a86f","target_node_id":"ac48bb49bb2a4259b43c4bf4f70efb94","id":"547de0b0f1744d709943700f1b4cf9ef"},{"type":"Edge","source_node_id":"ac48bb49bb2a4259b43c4bf4f70efb94","target_node_id":"306b270cbcd04861a23029b402c09482","id":"800ddd0eb5c2402d83965f946b029c50"},{"type":"Edge","source_node_id":"306b270cbcd04861a23029b402c09482","target_node_id":"1af3ebfec0ad42b38417701ed6c5f0b0","id":"f4db3490d6934ef285ac25aeaba06aab"},{"type":"Edge","source_node_id":"1af3ebfec0ad42b38417701ed6c5f0b0","target_node_id":"bca0c66c48b44d81b9601808f5631074","id":"463e6349b76044749b1837388e5bc089"},{"type":"Edge","source_node_id":"bca0c66c48b44d81b9601808f5631074","target_node_id":"cd9e307dc82a4508ad708c0dd87a4342","id":"51508da53dc74b7394b8347def4d162c"},{"type":"Edge","source_node_id":"cd9e307dc82a4508ad708c0dd87a4342","target_node_id":"9ecd494b81114f06a803736fd0c6dd89","id":"0a27a550aeef4c73b42e1965a41485c3"},{"type":"Edge","source_node_id":"9ecd494b81114f06a803736fd0c6dd89","target_node_id":"e28f028b3e834237b9f609b2b45b4d0a","branch_id":"1264344ce49a43f8beca0a764aab6df7","id":"9fe56b7b24434fb2ba63acdf296dc65b","name":"1264344ce49a43f8beca0a764aab6df7"},{"type":"Edge","source_node_id":"9ecd494b81114f06a803736fd0c6dd89","target_node_id":"ac48bb49bb2a4259b43c4bf4f70efb94","branch_id":"4b56a886156541c1ace923ca47ab3058","id":"1fae0ebb71dd4aef9d41cf191ed62150","name":"4b56a886156541c1ace923ca47ab3058"}],"id":"primary"}],"script_variables":[],"glide_variables":[{"type":"Reference","table":"sys_user","id":"4f52f4a0acc348cb87268e77e7a78507","name":"user","formatType":"text"},{"type":"Reference","table":"sys_user_group","id":"07dc2487f27c43b8a92d0d875df91f74","name":"pair_group","formatType":"text"},{"type":"True/False","id":"f36b25db454940af9dcd30855792a991","name":"search_again","formatType":"text"}],"applicability":{"type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"66ae3ab52f3320102be4808cf699b67c","domain":"global","topic_type":"STANDARD","channels":[],"id":"0610c0132f3320102be4808cf699b60f","name":"Trouver les noms des binômes","key_phrases":["Trouver les noms des binômes","Get group members","Binome","Binômes"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"design_category":"","library":false,"nluMapping":"[]"}</design_definition>
        <design_topic_id>0610c0132f3320102be4808cf699b60f</design_topic_id>
        <name>Trouver les noms des binômes</name>
        <sys_class_name>sys_cb_design_topic</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-05-03 15:40:16</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_id>27d004172f3320102be4808cf699b674</sys_id>
        <sys_mod_count>1</sys_mod_count>
        <sys_name>Trouver les noms des binômes</sys_name>
        <sys_package display_value="Service portal 1" source="x_594833_service_p">66ae3ab52f3320102be4808cf699b67c</sys_package>
        <sys_policy/>
        <sys_scope display_value="Service portal 1">66ae3ab52f3320102be4808cf699b67c</sys_scope>
        <sys_update_name>sys_cb_design_topic_27d004172f3320102be4808cf699b674</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-05-03 15:42:34</sys_updated_on>
        <type>FlowTopic</type>
    </sys_cb_design_topic>
</record_update>
